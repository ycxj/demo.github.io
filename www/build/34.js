webpackJsonp([34],{276:function(l,n,t){"use strict";function u(l){return e._22(0,[e._18(402653184,1,{input:0}),(l()(),e.Z(1,0,null,null,33,"ion-content",[],[[8,"className",0],[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,C.b,C.a)),e.Y(2,4374528,null,0,P.a,[y.a,D.a,k.a,e.j,e.z,w.a,O.a,e.u,[2,S.a],[2,A.a]],null,null),(l()(),e._20(-1,1,["\n\t"])),(l()(),e.Z(4,0,null,1,0,"div",[["class","mark"]],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.back()&&u}return u},null,null)),(l()(),e._20(-1,1,["\n\t"])),(l()(),e.Z(6,0,null,1,27,"div",[["class","enter-box"]],null,null,null,null,null)),(l()(),e._20(-1,null,["\n\t\t"])),(l()(),e.Z(8,0,null,null,7,"div",[["class","head"]],null,null,null,null,null)),(l()(),e._20(-1,null,["\n\t\t\t"])),(l()(),e.Z(10,0,null,null,1,"i",[["class","iconfont"]],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.back()&&u}return u},null,null)),(l()(),e._20(-1,null,[""])),(l()(),e._20(-1,null,["\n\t\t\t"])),(l()(),e.Z(13,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e._20(-1,null,["请输入支付密码"])),(l()(),e._20(-1,null,["\n\t\t"])),(l()(),e._20(-1,null,["\n\t\t"])),(l()(),e.Z(17,0,null,null,15,"div",[["class","content"]],null,null,null,null,null)),(l()(),e._20(-1,null,["\n\t\t\t"])),(l()(),e.Z(19,0,null,null,11,"div",[["class","input-box"]],null,null,null,null,null)),(l()(),e._20(-1,null,["\n\t\t\t\t"])),(l()(),e.Z(21,0,[[1,0],["myInput",1]],null,5,"input",[["placeholder","请输入支付密码"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,t){var u=!0,o=l.component;if("input"===n){u=!1!==e._11(l,22)._handleInput(t.target.value)&&u}if("blur"===n){u=!1!==e._11(l,22).onTouched()&&u}if("compositionstart"===n){u=!1!==e._11(l,22)._compositionStart()&&u}if("compositionend"===n){u=!1!==e._11(l,22)._compositionEnd(t.target.value)&&u}if("ngModelChange"===n){u=!1!==(o.m_sPassword=t)&&u}return u},null,null)),e.Y(22,16384,null,0,Z.c,[e.A,e.j,[2,Z.a]],null,null),e._16(1024,null,Z.h,function(l){return[l]},[Z.c]),e.Y(24,671744,null,0,Z.m,[[8,null],[8,null],[8,null],[2,Z.h]],{model:[0,"model"]},{update:"ngModelChange"}),e._16(2048,null,Z.i,null,[Z.m]),e.Y(26,16384,null,0,Z.j,[Z.i],null,null),(l()(),e._20(-1,null,["\n\t\t\t\t"])),(l()(),e.Z(28,0,null,null,1,"button",[],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==l.component.pay()&&u}return u},null,null)),(l()(),e._20(-1,null,["付款"])),(l()(),e._20(-1,null,["\n\t\t\t"])),(l()(),e._20(-1,null,["\n\t\t\t"])),(l()(),e._20(-1,null,["\n\t\t"])),(l()(),e._20(-1,null,["\n\t"])),(l()(),e._20(-1,1,["\n"])),(l()(),e._20(-1,null,["\n"]))],function(l,n){l(n,24,0,n.component.m_sPassword)},function(l,n){l(n,1,0,e._2(1,"",n.component.m_objThemeService.colorTheme(),""),e._11(n,2).statusbarPadding,e._11(n,2)._hasRefresher);l(n,21,0,e._11(n,26).ngClassUntouched,e._11(n,26).ngClassTouched,e._11(n,26).ngClassPristine,e._11(n,26).ngClassDirty,e._11(n,26).ngClassValid,e._11(n,26).ngClassInvalid,e._11(n,26).ngClassPending)})}Object.defineProperty(n,"__esModule",{value:!0});var e=t(0),o=(t(2),t(18),t(23)),i=t(27),s=t(28),a=t(79),r=t(29),c=function(){function l(l,n,t,u,e,o,i){this.m_objNavParams=l,this.m_objThemeService=n,this.m_objViewCtrl=t,this.m_objContextService=u,this.m_objApiUrl=e,this.m_objAlertService=o,this.m_objModalCtrl=i,this.m_objOrderDetails=this.m_objNavParams.get("m_objOrderDetails"),this.m_sPassword=""}return l.prototype.ngOnInit=function(){var l=this;setTimeout(function(){l.input.nativeElement.focus()},500)},l.prototype.back=function(){this.m_objViewCtrl.dismiss()},l.prototype.pay=function(){var l=this;if(""!=this.m_sPassword){var n=this.m_objAlertService.loading();if(this.m_objContextService.m_bIsUsedCoupon)this.m_objApiUrl.onLinePayForDisCount(this.m_objOrderDetails.ChainID,Number(this.m_objOrderDetails.FolioID),this.m_objContextService.m_lsCouponCode).subscribe(function(t){if(t.Code==a.a.successfully){var u=l.m_objOrderDetails.RoomRate*l.m_objOrderDetails.RoomCount*Number(l.m_objOrderDetails.NightCount)-Number(t.Data);l.payFn(u,n)}else l.m_objAlertService.tipsAlert(t.Msg)});else{var t=this.m_objOrderDetails.RoomRate*this.m_objOrderDetails.RoomCount*Number(this.m_objOrderDetails.NightCount)-this.m_objContextService.m_nDiscountAmount;this.payFn(t,n)}}else this.m_objAlertService.tipsAlert("支付密码不能为空哦")},l.prototype.payFn=function(l,n){var t=this;this.m_objApiUrl.onLinePayForStoreBalance(this.m_objOrderDetails.ChainID,Number(this.m_objOrderDetails.FolioID),l,this.m_sPassword).subscribe(function(l){switch(n.dismiss(),l.Code){case a.a.successfully:t.jumpPage("订单支付成功！");break;case-10029:t.jumpPage("支付密码错误！",!0);break;case-10030:t.jumpPage("储值余额不足！");break;case-10026:t.jumpPage("订单当前状态无法支付！");break;case-10027:t.jumpPage("当前订单非预定订单！");break;default:t.jumpPage("未知错误，请重试！")}})},l.prototype.jumpPage=function(l,n){var t=this;this.m_objAlertService.tipsAlert(l,function(){n||(t.m_objModalCtrl.create("OrderPage").present(),t.m_objViewCtrl.dismiss()),n&&(t.m_sPassword="",setTimeout(function(){t.input.nativeElement.focus()},500))})},l}(),_=function(){return function(){}}(),m=t(209),d=t(210),p=t(211),b=t(212),h=t(213),f=t(214),g=t(215),j=t(216),v=t(217),C=t(302),P=t(22),y=t(1),D=t(4),k=t(9),w=t(8),O=t(39),S=t(5),A=t(21),Z=t(15),N=t(10),x=t(81),I=e.X({encapsulation:2,styles:[],data:{}}),F=e.V("page-enter-password",c,function(l){return e._22(0,[(l()(),e.Z(0,0,null,null,1,"page-enter-password",[],null,null,null,u,I)),e.Y(1,114688,null,0,c,[N.a,o.a,S.a,i.a,s.a,r.a,x.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),M=t(12),R=t(123),T=t(40);t.d(n,"EnterPasswordPageModuleNgFactory",function(){return U});var U=e.W(_,[],function(l){return e._7([e._8(512,e.i,e.S,[[8,[m.a,d.a,p.a,b.a,h.a,f.a,g.a,j.a,v.a,F]],[3,e.i],e.s]),e._8(4608,M.m,M.l,[e.r,[2,M.u]]),e._8(4608,Z.r,Z.r,[]),e._8(4608,Z.d,Z.d,[]),e._8(512,M.b,M.b,[]),e._8(512,Z.o,Z.o,[]),e._8(512,Z.e,Z.e,[]),e._8(512,Z.n,Z.n,[]),e._8(512,R.a,R.a,[]),e._8(512,R.b,R.b,[]),e._8(512,_,_,[]),e._8(256,T.a,c,[])])})},302:function(l,n,t){"use strict";function u(l){return e._22(2,[e._18(402653184,1,{_fixedContent:0}),e._18(402653184,2,{_scrollContent:0}),(l()(),e.Z(2,0,[[1,0],["fixedContent",1]],null,1,"div",[["class","fixed-content"]],null,null,null,null,null)),e._10(null,0),(l()(),e.Z(4,0,[[2,0],["scrollContent",1]],null,1,"div",[["class","scroll-content"]],null,null,null,null,null)),e._10(null,1),e._10(null,2)],null,null)}t.d(n,"a",function(){return o}),n.b=u;var e=t(0),o=(t(1),t(4),t(9),t(39),t(5),t(21),e.X({encapsulation:2,styles:[],data:{}}))}});